<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–ø–∏—Å—å –Ω–∞ —Ö–∏–º—á–∏—Å—Ç–∫—É - Pena Lux</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="booking-container">
            <div style="text-align: center; margin-bottom: 30px;">
                <a href="index.html" style="color: #D4AF37; text-decoration: none; font-weight: 600; display: inline-block; margin-bottom: 20px;">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                <h1>üìù –ó–∞–ø–∏—Å—å –Ω–∞ —Ö–∏–º—á–∏—Å—Ç–∫—É</h1>
                <p style="color: #B0B0B0;">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É –∏ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è</p>
            </div>

            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —à–∞–≥–æ–≤ -->
            <div class="step-indicator">
                <div class="step active" id="step1">1</div>
                <div class="step" id="step2">2</div>
                <div class="step" id="step3">3</div>
            </div>

            <form id="bookingForm">
                <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏ -->
                <div id="serviceStep">
                    <h3 style="margin-bottom: 20px; color: #FFFFFF;">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</h3>
                    
                    <div class="service-option" onclick="selectService(this, 'sofa_2')">
                        <input type="radio" name="service" value="sofa_2" id="sofa_2" style="margin-right: 15px;">
                        <label for="sofa_2" style="flex: 1; margin: 0; cursor: pointer;">–î–∏–≤–∞–Ω 2-–º–µ—Å—Ç–Ω—ã–π</label>
                        <span style="background: #D4AF37; color: #0A0A0A; padding: 6px 12px; border-radius: 15px; font-weight: 700;" id="price_sofa_2">1700 ‚ÇΩ</span>
                    </div>

                    <div class="service-option" onclick="selectService(this, 'sofa_3')">
                        <input type="radio" name="service" value="sofa_3" id="sofa_3" style="margin-right: 15px;">
                        <label for="sofa_3" style="flex: 1; margin: 0; cursor: pointer;">–î–∏–≤–∞–Ω 3-–º–µ—Å—Ç–Ω—ã–π</label>
                        <span style="background: #D4AF37; color: #0A0A0A; padding: 6px 12px; border-radius: 15px; font-weight: 700;" id="price_sofa_3">2200 ‚ÇΩ</span>
                    </div>

                    <div class="service-option" onclick="selectService(this, 'armchair')">
                        <input type="radio" name="service" value="armchair" id="armchair" style="margin-right: 15px;">
                        <label for="armchair" style="flex: 1; margin: 0; cursor: pointer;">–ö—Ä–µ—Å–ª–æ</label>
                        <span style="background: #D4AF37; color: #0A0A0A; padding: 6px 12px; border-radius: 15px; font-weight: 700;" id="price_armchair">1300 ‚ÇΩ</span>
                    </div>

                    <div class="service-option" onclick="selectService(this, 'mattress_1')">
                        <input type="radio" name="service" value="mattress_1" id="mattress_1" style="margin-right: 15px;">
                        <label for="mattress_1" style="flex: 1; margin: 0; cursor: pointer;">–ú–∞—Ç—Ä–∞—Å –æ–¥–Ω–æ—Å–ø–∞–ª—å–Ω—ã–π</label>
                        <span style="background: #D4AF37; color: #0A0A0A; padding: 6px 12px; border-radius: 15px; font-weight: 700;" id="price_mattress_1">1600 ‚ÇΩ</span>
                    </div>

                    <div class="service-option" onclick="selectService(this, 'mattress_2')">
                        <input type="radio" name="service" value="mattress_2" id="mattress_2" style="margin-right: 15px;">
                        <label for="mattress_2" style="flex: 1; margin: 0; cursor: pointer;">–ú–∞—Ç—Ä–∞—Å –¥–≤—É—Å–ø–∞–ª—å–Ω—ã–π</label>
                        <span style="background: #D4AF37; color: #0A0A0A; padding: 6px 12px; border-radius: 15px; font-weight: 700;" id="price_mattress_2">2000 ‚ÇΩ</span>
                    </div>

                    <div class="service-option" onclick="selectService(this, 'carpet_3')">
                        <input type="radio" name="service" value="carpet_3" id="carpet_3" style="margin-right: 15px;">
                        <label for="carpet_3" style="flex: 1; margin: 0; cursor: pointer;">–ö–æ–≤–µ—Ä –¥–æ 3–º¬≤</label>
                        <span style="background: #D4AF37; color: #0A0A0A; padding: 6px 12px; border-radius: 15px; font-weight: 700;" id="price_carpet_3">900 ‚ÇΩ</span>
                    </div>

                    <div class="service-option" onclick="selectService(this, 'carpet_6')">
                        <input type="radio" name="service" value="carpet_6" id="carpet_6" style="margin-right: 15px;">
                        <label for="carpet_6" style="flex: 1; margin: 0; cursor: pointer;">–ö–æ–≤–µ—Ä 3-6–º¬≤</label>
                        <span style="background: #D4AF37; color: #0A0A0A; padding: 6px 12px; border-radius: 15px; font-weight: 700;" id="price_carpet_6">1500 ‚ÇΩ</span>
                    </div>

                    <div class="service-option" onclick="selectService(this, 'carpet_6plus')">
                        <input type="radio" name="service" value="carpet_6plus" id="carpet_6plus" style="margin-right: 15px;">
                        <label for="carpet_6plus" style="flex: 1; margin: 0; cursor: pointer;">–ö–æ–≤–µ—Ä –æ—Ç 6–º¬≤</label>
                        <span style="background: #D4AF37; color: #0A0A0A; padding: 6px 12px; border-radius: 15px; font-weight: 700;" id="price_carpet_6plus">2400 ‚ÇΩ</span>
                    </div>

                    <div style="margin-top: 30px;">
                        <label style="font-size: 18px; color: #FFFFFF; margin-bottom: 15px; display: block;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏:</label>
                        <div style="display: flex; align-items: center; margin-bottom: 10px; padding: 15px; background: rgba(26, 26, 26, 0.8); border-radius: 10px;">
                            <input type="checkbox" id="urgent" onchange="calculateTotal()" style="margin-right: 10px; width: 20px; height: 20px;">
                            <label for="urgent" style="color: #B0B0B0; cursor: pointer; flex: 1;">–°—Ä–æ—á–Ω—ã–π –≤—ã–µ–∑–¥ (+20%)</label>
                        </div>
                        <div style="display: flex; align-items: center; padding: 15px; background: rgba(26, 26, 26, 0.8); border-radius: 10px;">
                            <input type="checkbox" id="stain" onchange="calculateTotal()" style="margin-right: 10px; width: 20px; height: 20px;">
                            <label for="stain" style="color: #B0B0B0; cursor: pointer; flex: 1;">–°–ª–æ–∂–Ω—ã–µ –ø—è—Ç–Ω–∞ (+300 ‚ÇΩ)</label>
                        </div>
                    </div>

                    <div style="margin-top: 30px; padding: 20px; background: rgba(212, 175, 55, 0.1); border-radius: 12px; text-align: center; border: 1px solid #D4AF37;">
                        <strong style="font-size: 18px; color: #FFFFFF;">–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: <span id="preliminaryTotal" style="color: #D4AF37; font-size: 20px;">0</span> ‚ÇΩ</strong>
                    </div>

                    <button type="button" onclick="nextStep()" style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, #D4AF37 0%, #E6C158 100%); color: #0A0A0A; border: none; border-radius: 12px; font-size: 18px; font-weight: 700; cursor: pointer; width: 100%;">
                        –î–∞–ª–µ–µ ‚Üí –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏
                    </button>
                </div>

                <!-- –®–∞–≥ 2: –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ -->
                <div id="timeStep" style="display: none;">
                    <h3 style="margin-bottom: 20px; color: #FFFFFF;">–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è</h3>
                    
                    <div class="calendar">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <button type="button" onclick="changeDate(-1)" style="padding: 12px 20px; background: #D4AF37; color: #0A0A0A; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">‚Üê –ù–∞–∑–∞–¥</button>
                            <span id="currentDate" style="font-weight: 700; font-size: 18px;">15 —è–Ω–≤–∞—Ä—è 2024</span>
                            <button type="button" onclick="changeDate(1)" style="padding: 12px 20px; background: #D4AF37; color: #0A0A0A; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr; gap: 10px;" id="timeSlots">
                            <div class="time-slot free" onclick="selectTimeSlot(this)">09:00-11:00</div>
                            <div class="time-slot free" onclick="selectTimeSlot(this)">11:00-13:00</div>
                            <div class="time-slot busy">13:00-15:00</div>
                            <div class="time-slot free" onclick="selectTimeSlot(this)">15:00-17:00</div>
                            <div class="time-slot free" onclick="selectTimeSlot(this)">17:00-19:00</div>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: 25px;">
                        <button type="button" onclick="prevStep()" style="flex: 1; padding: 18px; background: rgba(37, 37, 37, 0.9); color: #FFFFFF; border: 2px solid #D4AF37; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer;">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                        <button type="button" onclick="nextStep()" style="flex: 1; padding: 18px; background: linear-gradient(135deg, #D4AF37 0%, #E6C158 100%); color: #0A0A0A; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer;">
                            –î–∞–ª–µ–µ ‚Üí –î–∞–Ω–Ω—ã–µ
                        </button>
                    </div>
                </div>

                <!-- –®–∞–≥ 3: –î–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞ -->
                <div id="clientStep" style="display: none;">
                    <h3 style="margin-bottom: 20px; color: #FFFFFF;">–í–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                    
                    <div style="background: rgba(26, 26, 26, 0.8); padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #D4AF37;" id="orderSummary">
                        <!-- –°—é–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ -->
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #FFFFFF;">–í–∞—à–µ –∏–º—è *</label>
                        <input type="text" id="clientName" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" required style="width: 100%; padding: 15px; background: rgba(26, 26, 26, 0.8); border: 2px solid #333; border-radius: 10px; color: #FFFFFF; font-size: 16px;">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #FFFFFF;">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *</label>
                        <input type="tel" id="clientPhone" placeholder="+7 (999) 123-45-67" required style="width: 100%; padding: 15px; background: rgba(26, 26, 26, 0.8); border: 2px solid #333; border-radius: 10px; color: #FFFFFF; font-size: 16px;">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #FFFFFF;">–ê–¥—Ä–µ—Å *</label>
                        <input type="text" id="clientAddress" placeholder="—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1, –∫–≤. 1" required style="width: 100%; padding: 15px; background: rgba(26, 26, 26, 0.8); border: 2px solid #333; border-radius: 10px; color: #FFFFFF; font-size: 16px;">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #FFFFFF;">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É</label>
                        <textarea id="clientComment" placeholder="–û—Å–æ–±—ã–µ –ø—è—Ç–Ω–∞, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–±–µ–ª–∏, –ø–æ–∂–µ–ª–∞–Ω–∏—è..." style="width: 100%; padding: 15px; background: rgba(26, 26, 26, 0.8); border: 2px solid #333; border-radius: 10px; color: #FFFFFF; font-size: 16px; height: 100px; resize: vertical;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px;">
                        <button type="button" onclick="prevStep()" style="flex: 1; padding: 18px; background: rgba(37, 37, 37, 0.9); color: #FFFFFF; border: 2px solid #D4AF37; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer;">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                        <button type="submit" style="flex: 1; padding: 18px; background: linear-gradient(135deg, #10B981 0%, #059669 100%); color: #FFFFFF; border: none; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer;">
                            üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let selectedService = null;
        let servicePrice = 0;
        let selectedTimeSlot = null;

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω
        function loadServicePrices() {
            const savedPrices = localStorage.getItem('cleaning_prices');
            if (savedPrices) {
                const prices = JSON.parse(savedPrices);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–µ–Ω—ã –≤ —Ñ–æ—Ä–º–µ
                Object.keys(prices).forEach(serviceId => {
                    const priceElement = document.getElementById(`price_${serviceId}`);
                    if (priceElement) {
                        priceElement.textContent = prices[serviceId].price + ' ‚ÇΩ';
                    }
                });
            }
        }

        function selectService(element, service) {
            // –ü–æ–ª—É—á–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –∏–∑ localStorage
            let price = 0;
            const savedPrices = localStorage.getItem('cleaning_prices');
            if (savedPrices) {
                const prices = JSON.parse(savedPrices);
                if (prices[service]) {
                    price = prices[service].price;
                }
            } else {
                // –¶–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                const defaultPrices = {
                    'sofa_2': 1700,
                    'sofa_3': 2200,
                    'armchair': 1300,
                    'mattress_1': 1600,
                    'mattress_2': 2000,
                    'carpet_3': 900,
                    'carpet_6': 1500,
                    'carpet_6plus': 2400
                };
                price = defaultPrices[service] || 0;
            }
            
            selectedService = service;
            servicePrice = price;
            
            // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –æ–ø—Ü–∏–π
            document.querySelectorAll('.service-option').forEach(option => {
                option.style.background = 'rgba(26, 26, 26, 0.8)';
                option.style.borderColor = '#333';
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –æ–ø—Ü–∏—é
            element.style.background = 'rgba(212, 175, 55, 0.1)';
            element.style.borderColor = '#D4AF37';
            
            // –°—Ç–∞–≤–∏–º –≥–∞–ª–æ—á–∫—É –≤ —Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–∫—É
            document.querySelector(`input[value="${service}"]`).checked = true;
            
            calculateTotal();
        }

        function calculateTotal() {
            if (!servicePrice) {
                document.getElementById('preliminaryTotal').textContent = '0';
                return;
            }

            let total = servicePrice;
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏
            if (document.getElementById('urgent').checked) {
                total += total * 0.2;
            }
            if (document.getElementById('stain').checked) {
                total += 300;
            }

            document.getElementById('preliminaryTotal').textContent = Math.round(total);
        }

        function selectTimeSlot(element) {
            // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö —Å–ª–æ—Ç–æ–≤
            document.querySelectorAll('.time-slot.free').forEach(slot => {
                slot.style.background = 'rgba(37, 37, 37, 0.8)';
                slot.style.color = '#FFFFFF';
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–ª–æ—Ç
            element.style.background = '#D4AF37';
            element.style.color = '#0A0A0A';
            selectedTimeSlot = element.textContent;
        }

        function nextStep() {
            if (currentStep === 1 && !selectedService) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É');
                return;
            }
            
            if (currentStep === 2 && !selectedTimeSlot) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è –¥–ª—è –∑–∞–ø–∏—Å–∏');
                return;
            }

            // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —à–∞–≥
            document.getElementById('serviceStep').style.display = 'none';
            document.getElementById('timeStep').style.display = 'none';
            document.getElementById('clientStep').style.display = 'none';

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —à–∞–≥–æ–≤
            document.getElementById('step1').classList.remove('active');
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step3').classList.remove('active');

            if (currentStep === 1) {
                document.getElementById('timeStep').style.display = 'block';
                document.getElementById('step2').classList.add('active');
                currentStep = 2;
            } else if (currentStep === 2) {
                document.getElementById('clientStep').style.display = 'block';
                document.getElementById('step3').classList.add('active');
                currentStep = 3;
                updateOrderSummary();
            }
        }

        function prevStep() {
            document.getElementById('serviceStep').style.display = 'none';
            document.getElementById('timeStep').style.display = 'none';
            document.getElementById('clientStep').style.display = 'none';

            document.getElementById('step1').classList.remove('active');
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step3').classList.remove('active');

            if (currentStep === 2) {
                document.getElementById('serviceStep').style.display = 'block';
                document.getElementById('step1').classList.add('active');
                currentStep = 1;
            } else if (currentStep === 3) {
                document.getElementById('timeStep').style.display = 'block';
                document.getElementById('step2').classList.add('active');
                currentStep = 2;
            }
        }

        function updateOrderSummary() {
            const serviceNames = {
                'sofa_2': '–î–∏–≤–∞–Ω 2-–º–µ—Å—Ç–Ω—ã–π',
                'sofa_3': '–î–∏–≤–∞–Ω 3-–º–µ—Å—Ç–Ω—ã–π', 
                'armchair': '–ö—Ä–µ—Å–ª–æ',
                'mattress_1': '–ú–∞—Ç—Ä–∞—Å –æ–¥–Ω–æ—Å–ø–∞–ª—å–Ω—ã–π',
                'mattress_2': '–ú–∞—Ç—Ä–∞—Å –¥–≤—É—Å–ø–∞–ª—å–Ω—ã–π',
                'carpet_3': '–ö–æ–≤–µ—Ä –¥–æ 3–º¬≤',
                'carpet_6': '–ö–æ–≤–µ—Ä 3-6–º¬≤',
                'carpet_6plus': '–ö–æ–≤–µ—Ä –æ—Ç 6–º¬≤'
            };

            const serviceName = serviceNames[selectedService];
            
            let extras = [];
            if (document.getElementById('urgent').checked) extras.push('–°—Ä–æ—á–Ω—ã–π –≤—ã–µ–∑–¥');
            if (document.getElementById('stain').checked) extras.push('–°–ª–æ–∂–Ω—ã–µ –ø—è—Ç–Ω–∞');

            calculateTotal();
            const total = document.getElementById('preliminaryTotal').textContent;

            document.getElementById('orderSummary').innerHTML = `
                <strong style="font-size: 18px;">–í–∞—à –∑–∞–∫–∞–∑:</strong><br><br>
                <strong>–£—Å–ª—É–≥–∞:</strong> ${serviceName}<br>
                <strong>–í—Ä–µ–º—è:</strong> ${selectedTimeSlot}<br>
                ${extras.length > 0 ? `<strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:</strong> ${extras.join(', ')}<br>` : ''}
                <strong style="color: #D4AF37; font-size: 20px; display: block; margin-top: 10px;">–ò—Ç–æ–≥–æ: ${total} ‚ÇΩ</strong>
            `;
        }

        function changeDate(days) {
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞—Ç—ã
            alert('–§—É–Ω–∫—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞—Ç—ã –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–∑–∂–µ');
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        document.getElementById('bookingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const orderData = {
                id: Date.now(),
                date: new Date().toLocaleString('ru-RU'),
                client: {
                    name: document.getElementById('clientName').value,
                    phone: document.getElementById('clientPhone').value,
                    address: document.getElementById('clientAddress').value,
                    comment: document.getElementById('clientComment').value
                },
                order: {
                    product: selectedService,
                    product_name: document.querySelector(`label[for="${selectedService}"]`).textContent.trim(),
                    extras: [],
                    total: parseInt(document.getElementById('preliminaryTotal').textContent)
                },
                status: "new",
                time_slot: selectedTimeSlot
            };

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–∫–∞–∑ –≤ localStorage
            let orders = JSON.parse(localStorage.getItem('cleaning_orders') || '[]');
            orders.push(orderData);
            localStorage.setItem('cleaning_orders', JSON.stringify(orders));

            alert('‚úÖ –ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.');
            
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –ø–µ—Ä–≤—ã–π —à–∞–≥
            document.getElementById('bookingForm').reset();
            currentStep = 1;
            selectedService = null;
            servicePrice = 0;
            selectedTimeSlot = null;
            
            document.getElementById('serviceStep').style.display = 'block';
            document.getElementById('timeStep').style.display = 'none';
            document.getElementById('clientStep').style.display = 'none';
            
            document.getElementById('step1').classList.add('active');
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step3').classList.remove('active');
            
            calculateTotal();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadServicePrices();
            calculateTotal();
        });
    </script>
</body>
</html>
